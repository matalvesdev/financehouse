# ============================================
# Environment Variables Template
# Sistema de Gestão Financeira Doméstica
# ============================================
# INSTRUCTIONS:
# 1. Copy this file to .env.production for production
# 2. Copy this file to .env.local for local development
# 3. Fill in all REQUIRED values marked with CHANGE_THIS
# 4. NEVER commit .env.* files to version control
# 5. Use strong, randomly generated values for all secrets
# ============================================

# ============================================
# DATABASE CONFIGURATION (REQUIRED)
# ============================================
POSTGRES_DB=gestao_financeira
POSTGRES_USER=postgres
# SECURITY: Use a strong password (min 16 chars, mixed case, numbers, special chars)
# Generate: openssl rand -base64 24
POSTGRES_PASSWORD=CHANGE_THIS_TO_A_SECURE_PASSWORD

# ============================================
# JWT CONFIGURATION (REQUIRED - CRITICAL)
# ============================================
# JWT Secret Key - MUST be at least 32 characters
# Generate: openssl rand -base64 64
# SECURITY: This key signs all authentication tokens. Keep it secret!
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_64_CHAR_OR_LONGER_SECRET_KEY_HERE

# JWT Token Expiration Times (in milliseconds)
JWT_ACCESS_TOKEN_VALIDITY=900           # 15 minutes (recommended for production)
JWT_REFRESH_TOKEN_VALIDITY=604800       # 7 days
JWT_ISSUER=gestao-financeira

# ============================================
# DATA ENCRYPTION (REQUIRED - CRITICAL)
# ============================================
# Encryption Key for sensitive financial data at rest
# Generate: openssl rand -base64 32
# SECURITY: This key encrypts sensitive data. Losing it means data loss!
# IMPORTANT: Back up this key securely and separately from the database
ENCRYPTION_KEY=CHANGE_THIS_TO_A_SECURE_32_CHAR_BASE64_KEY

# ============================================
# APPLICATION PORTS
# ============================================
BACKEND_PORT=8080
FRONTEND_PORT=80

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Log levels: TRACE, DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO
APP_LOG_LEVEL=INFO

# ============================================
# SPRING BOOT CONFIGURATION
# ============================================
SPRING_PROFILES_ACTIVE=production

# Database connection pool settings
DB_POOL_SIZE=20
DB_MIN_IDLE=5
DB_CONNECTION_TIMEOUT=20000

# ============================================
# CORS CONFIGURATION (Optional)
# ============================================
# Comma-separated list of allowed origins
# CORS_ALLOWED_ORIGINS=https://gestaofinanceira.com,https://www.gestaofinanceira.com

# ============================================
# EMAIL CONFIGURATION (Optional)
# ============================================
# Required for sending notifications and password reset emails
# MAIL_HOST=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USERNAME=noreply@gestaofinanceira.com
# MAIL_PASSWORD=CHANGE_THIS_TO_APP_PASSWORD
# MAIL_FROM=noreply@gestaofinanceira.com
# MAIL_FROM_NAME=Gestão Financeira

# ============================================
# EXTERNAL API CONFIGURATION (Optional)
# ============================================
# Market data API for investment tracking
# MARKET_DATA_API_KEY=CHANGE_THIS
# MARKET_DATA_API_URL=https://api.marketdata.com

# AI Assessor API (if using external AI service)
# AI_API_KEY=CHANGE_THIS
# AI_API_URL=https://api.openai.com/v1

# ============================================
# MONITORING & OBSERVABILITY (Optional)
# ============================================
# Prometheus metrics
# PROMETHEUS_ENABLED=true

# Grafana dashboard
# GRAFANA_ADMIN_USER=admin
# GRAFANA_ADMIN_PASSWORD=CHANGE_THIS

# Sentry error tracking
# SENTRY_DSN=https://your-sentry-dsn
# SENTRY_ENVIRONMENT=production

# ============================================
# BACKUP CONFIGURATION (Optional)
# ============================================
# Automated backup settings
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30
# BACKUP_S3_BUCKET=gestao-financeira-backups
# BACKUP_S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=CHANGE_THIS
# AWS_SECRET_ACCESS_KEY=CHANGE_THIS

# ============================================
# SECURITY HEADERS (Optional)
# ============================================
# Content Security Policy
# CSP_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# ============================================
# RATE LIMITING (Optional)
# ============================================
# API rate limiting
# RATE_LIMIT_ENABLED=true
# RATE_LIMIT_REQUESTS_PER_MINUTE=60

# ============================================
# SESSION CONFIGURATION (Optional)
# ============================================
# Session timeout in seconds
# SESSION_TIMEOUT=1800  # 30 minutes

# ============================================
# FEATURE FLAGS (Optional)
# ============================================
# Enable/disable features
# FEATURE_AI_INSIGHTS=true
# FEATURE_INVESTMENT_TRACKING=true
# FEATURE_BUDGET_ALERTS=true
# FEATURE_GOAL_TRACKING=true

# ============================================
# NOTES
# ============================================
# 1. All REQUIRED variables MUST be set before deployment
# 2. Generate all secrets using cryptographically secure methods
# 3. Never use default or example values in production
# 4. Rotate secrets regularly (every 90 days recommended)
# 5. Store secrets in a secure vault (AWS Secrets Manager, HashiCorp Vault, etc.)
# 6. Use different secrets for each environment (dev, staging, production)
# 7. Back up encryption keys separately from database backups
# 8. Document secret rotation procedures
# 9. Implement secret rotation without downtime
# 10. Monitor for unauthorized access to secrets
